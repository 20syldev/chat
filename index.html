<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta http-equiv="X-UA-Compatible" content="ie=edge"/>
    <title>Sylvain L. - Chat en ligne</title>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.6.0/css/all.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@1.0.2/css/bulma.min.css"/>
    <link rel="stylesheet" href="https://sylvain.pro/assets/css/index.css"/>
    <link rel="icon shortcut" href="https://sylvain.pro/assets/images/logo.png"/>
</head>
<body>
    <!-- Notification de changement de thème -->
    <div class="theme-notif"></div>

    <!-- Bouton pour changer de thème -->
    <button class="switch-btn"></button>

    <!-- Bouton retourner à l'accueil -->
    <a href="https://sylvain.pro" class="home-btn"><i class="fa-solid fa-home"></i></a>

    <!-- Chat en ligne -->
    <section class="p-4 pb-6" id="chat">
        <form id="chatForm">
            <div class="field">
                <label class="label" id="tokenTitle">Connectez-vous à un chat privé</label>
                <div class="control is-flex">
                    <input type="password" class="input mr-2" id="token" placeholder="Entrez votre clé privée" required>
                    <button type="button" class="button is-primary mr-2" id="resetToken"><i class="fa-solid fa-rotate"></i></button>
                    <button type="button" class="button is-primary" id="connectPrivate"><i class="fa-solid fa-link"></i></button>
                </div>
                <p class="help is-danger is-hidden" id="tokenError"></p>
                <p class="help is-success is-hidden" id="tokenSuccess"></p>
            </div>

            <div class="field">
                <label class="label">Nom d'utilisateur</label>
                <div class="control">
                    <input type="text" class="input" id="username" placeholder="Entrez votre nom d'utilisateur" required maxlength="10">
                    <p class="help is-danger is-hidden" id="usernameError">Ce nom d'utilisateur est déjà utilisé.</p>
                </div>
            </div>

            <div class="field">
                <label class="label">Message</label>
                <div class="control">
                    <textarea class="textarea" id="message" placeholder="Entrez votre message" required></textarea>
                    <span class="counter" id="charCounter">500</span>
                </div>
            </div>

            <div class="field is-flex is-justify-content-space-between is-align-items-center">
                <div class="control">
                    <button type="submit" class="button is-primary mr-2">Envoyer</button>
                    <button type="button" class="button is-primary" id="switchChat">...</a>
                </div>
                <div class="field is-grouped">
                    <div class="control mr-4">
                        <label class="checkbox">
                            <input type="checkbox" id="activateNotifications"> Notifications
                        </label>
                    </div>
                    <div class="control">
                        <label class="radio">
                            <input type="radio" name="priority" value="classic" checked> Classique
                        </label>
                    </div>
                    <div class="control">
                        <label class="radio">
                            <input type="radio" name="priority" value="compact"> Compact
                        </label>
                    </div>
                </div>
            </div>
        </form>
        <table class="table is-fullwidth">
            <thead>
                <tr>
                    <th colspan="3" class="has-text-centered title is-5" id="discussion">Discussion globale<hr></th>
                </tr>
                <tr>
                    <th class="w-20">Utilisateur</th>
                    <th class="w-60">Message</th>
                    <th class="has-text-right"></th>
                </tr>
            </thead>
        </table>
        <div class="chat-container" id="chatContainer">
            <table class="table is-fullwidth">
                <tbody class="chat" id="chatList"><th class="has-text-centered">...</th></tbody>
            </table>
        </div>
    </section>

    <!-- Bas de page -->
    <div class="has-text-centered p-4 bottom">
        <p><strong>
            <a href="/">chat.sylvain.pro</a> &copy; 2024. Tous droits réservés.
        </strong></p>
    </div>

    <!-- Charger le Js -->
    <script>localStorage.setItem('chatMode', localStorage.getItem('chatMode') || 'private');</script>
    <script type="text/javascript" src="https://sylvain.pro/assets/js/theme.js"></script>
    <script type="text/javascript" src="https://sylvain.pro/assets/js/chat.js"></script>
</body>
</html>
